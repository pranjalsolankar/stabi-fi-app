<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Stabi-Fii | Portals</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-[#f1f5f9] bg-gradient-to-br from-[#f8fafc] via-[#e2e8f0] to-[#dcfce7] min-h-screen flex flex-col items-center justify-center p-4 md:p-12 overflow-x-hidden">

    <div class="text-center mb-8 mt-4 px-4">
        <h1 class="text-3xl md:text-5xl font-black text-slate-900 mb-2 tracking-tight">User Portal</h1>
        <p class="text-slate-600 font-medium text-xs md:text-base max-w-md mx-auto">Choose your portal and get started on your journey.</p>
    </div>

    <div class="w-full max-w-[1000px] grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10 justify-items-center">
        <script>
            const portals = [
                { id: 'student', title: 'Student', icon: '3135/3135715' },
                { id: 'salaried', title: 'Salaried', icon: '3062/3062634' },
                { id: 'business', title: 'Business', icon: '2907/2907763' },
                { id: 'pensioned', title: 'Pensioned', icon: '4140/4140046' }
            ];

            document.write(portals.map(p => `
                <div class="bg-slate-900 w-[95%] sm:w-full max-w-[450px] rounded-[40px] p-6 md:p-10 shadow-2xl border border-slate-800 flex flex-col items-center transition-all">
                    <div class="w-16 h-16 md:w-20 md:h-20 rounded-2xl bg-white/5 flex items-center justify-center mb-4 md:mb-6">
                        <img src="https://cdn-icons-png.flaticon.com/512/${p.icon}.png" alt="${p.title}" class="w-10 h-10 md:w-12 md:h-12">
                    </div>
                    
                    <h2 class="text-xl md:text-2xl font-bold text-white mb-6 md:mb-8">${p.title}</h2>

                    <div id="${p.id}-form" class="w-full">
                        <form id="${p.id}-login-form" class="space-y-4 md:space-y-5">
                            <input type="email" id="${p.id}-email" placeholder="Email" class="w-full bg-slate-800/50 border border-slate-700 text-white rounded-xl p-3 md:p-4 outline-none focus:ring-2 focus:ring-emerald-400/50 transition-all text-sm" required>
                            <input type="password" id="${p.id}-password" placeholder="Password" class="w-full bg-slate-800/50 border border-slate-700 text-white rounded-xl p-3 md:p-4 outline-none focus:ring-2 focus:ring-emerald-400/50 transition-all text-sm" required>
                            
                            <button type="button" onclick="handleLogin('${p.id}')" 
                                class="w-full bg-emerald-400/90 hover:bg-emerald-400 text-slate-900 font-bold py-3 md:py-4 rounded-xl transition-all active:scale-95 shadow-md text-sm mt-2">
                                Login
                            </button>
                            
                            <p class="text-slate-500 text-[10px] md:text-xs text-center mt-4">No account? <span class="text-emerald-400 cursor-pointer font-bold hover:underline" onclick="toggleForm('${p.id}')">Signup</span></p>
                        </form>

                        <form id="${p.id}-signup-form" class="space-y-4 md:space-y-5 hidden">
                            <input type="text" id="${p.id}-name" placeholder="Full Name" class="w-full bg-slate-800/50 border border-slate-700 text-white rounded-2xl p-3 md:p-4 outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-sm" required>
                            <input type="email" id="${p.id}-email-signup" placeholder="Email" class="w-full bg-slate-800/50 border border-slate-700 text-white rounded-2xl p-3 md:p-4 outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-sm" required>
                            <input type="password" id="${p.id}-password-signup" placeholder="Create Password" class="w-full bg-slate-800/50 border border-slate-700 text-white rounded-2xl p-3 md:p-4 outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-sm" required>
                            
                            <button type="button" onclick="handleSignup('${p.id}')" 
                                class="w-full bg-blue-600 hover:bg-blue-500 text-white font-black py-5 md:py-6 rounded-3xl transition-all active:scale-95 shadow-xl shadow-blue-900/40 uppercase tracking-widest text-base md:text-lg mt-4 ring-4 ring-blue-600/20">
                                Create Account
                            </button>
                            
                            <p class="text-slate-500 text-[10px] md:text-xs text-center mt-4">Have an account? <span class="text-blue-400 cursor-pointer font-bold hover:underline" onclick="toggleForm('${p.id}')">Login</span></p>
                        </form>
                    </div>
                </div>
            `).join(''));
        </script>
    </div>

    <div id="custom-modal" class="fixed inset-0 bg-slate-950/80 backdrop-blur-md flex items-center justify-center z-[100] hidden">
        <div class="bg-slate-900 border border-slate-800 w-[90%] max-w-md p-8 rounded-[40px] shadow-2xl text-center transform transition-all scale-95 opacity-0" id="modal-content">
            <div class="w-20 h-20 bg-emerald-400/10 rounded-full flex items-center justify-center mx-auto mb-6">
                <svg class="w-10 h-10 text-emerald-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                </svg>
            </div>
            <h3 class="text-2xl font-bold text-white mb-2">Success!</h3>
            <p class="text-slate-400 mb-8" id="modal-message">Account created successfully!</p>
            <button onclick="closeModal()" class="w-full bg-emerald-400 hover:bg-emerald-300 text-slate-900 font-bold py-4 rounded-2xl transition-all active:scale-95 shadow-lg shadow-emerald-500/20">
                OK
            </button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>